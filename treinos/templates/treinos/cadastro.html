{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Juan Borges Dev</title>
    <link rel="stylesheet" href="{% static 'treinos/style.css' %}">
</head>
<body>

    <div class="auth-container">
        <div class="logo" style="margin-bottom: 30px; font-size: 1.5rem;">Juan Borges <span>Dev</span></div>
        
        <div class="auth-card">
            <h2 style="color: white; margin-bottom: 20px; text-align: center;">Crie sua conta</h2>
            
            <form method="post">
                {% csrf_token %}
                
                {% for field in form %}
                    <label>{{ field.label }}</label>
                    {{ field }}
                    {% if field.errors %}
                        <div style="color: #ef4444; font-size: 0.8rem; margin-bottom: 10px;">{{ field.errors }}</div>
                    {% endif %}
                {% endfor %}

                <button type="submit" class="btn-full">CRIAR CONTA</button>
            </form>

            <a href="{% url 'login' %}" class="auth-link">
                JÃ¡ tem conta? <span>Fazer Login</span>
            </a>
        </div>
    </div>

    {% if messages %}
    <div class="toast-container">
        {% for message in messages %}
        <div class="toast {{ message.tags }}">
            <span>{{ message }}</span>
            <button onclick="this.parentElement.style.display='none'" style="background:none; border:none; color:#71717a; cursor:pointer; font-size:1.2rem; margin-left:10px;">&times;</button>
        </div>
        {% endfor %}
    </div>

    <script>
        // Auto-remover a mensagem depois de 4 segundos
        setTimeout(() => {
            const toasts = document.querySelectorAll('.toast');
            toasts.forEach(t => {
                t.style.animation = 'fadeOut 0.5s forwards';
                setTimeout(() => t.remove(), 500);
            });
        }, 4000);
    </script>
    {% endif %}
</body>
</html>